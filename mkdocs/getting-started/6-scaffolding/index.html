<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Tips and tricks for how to set up and work with Starcraft II (SC2) maps, modules, and libraries in a more streamlined, organized, intelligent, and efficient way."><link rel="canonical" href="https://sc2mapster.github.io/mkdocs/getting-started/6-scaffolding/"><meta name="author" content="folk, Talv, SC2Mapster repo team"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../img/favicon.ico"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>6 scaffolding - Working with SC2</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#546e7a"><script src="../../assets/javascripts/modernizr.74668098.js"></script>
	<!-- Load fonts from Google -->
	
	<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
	<link rel="stylesheet" type="text/css"
		href="https://fonts.googleapis.com/css?family=Rubik:300,400,400i,700|IBM+Plex+Mono|Lora" />
	<style>
		body, input {
			font-family: "TisaPro", "Rubik", "Helvetica Neue", Helvetica, Arial, sans-serif;
		}
		h1, h2, h3, h4, h5, h6 {
			font-family: "Berlingske Serif Bold", "Lora", Georgia, Palatino, Garamond, serif;
		}
		pre, code, kbd {
			font-family: "IBM Plex Mono", "Hasklig", "Fira Code", "Monaco", "Menlo", "Consolas", "Droid Sans Mono", "Inconsolata", "Courier New", monospace;
		}
	</style>
	
<link rel="stylesheet" href="../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../css/folk.css"></head><body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="indigo"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#basesc2datagamedata" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://sc2mapster.github.io/mkdocs/" title="Working with SC2" class="md-header-nav__button md-logo"><i class="md-icon">code</i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Working with SC2</span><span class="md-header-nav__topic">6 scaffolding</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/SC2Mapster/SC2GameData" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">SC2+Storm Game Data</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://sc2mapster.github.io/mkdocs/" title="Working with SC2" class="md-nav__button md-logo"><i class="md-icon">code</i></a>Working with SC2</label><div class="md-nav__source"><a href="https://github.com/SC2Mapster/SC2GameData" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">SC2+Storm Game Data</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="Home" class="md-nav__link">Home</a></li><li class="md-nav__item"><a href="../../setup/" title="Getting Started" class="md-nav__link">Getting Started</a></li><li class="md-nav__item"><a href="../../triggers/" title="Triggers" class="md-nav__link">Triggers</a></li><li class="md-nav__item"><a href="../../galaxy/" title="Galaxy" class="md-nav__link">Galaxy</a></li><li class="md-nav__item"><a href="../../debug/" title="Trigger Debugging" class="md-nav__link">Trigger Debugging</a></li><li class="md-nav__item"><a href="../../data/" title="Data" class="md-nav__link">Data</a></li><li class="md-nav__item"><a href="../../ui/" title="Interface" class="md-nav__link">Interface</a></li><li class="md-nav__item"><a href="../../fonts/" title="Fonts and Styles" class="md-nav__link">Fonts and Styles</a></li><li class="md-nav__item"><a href="../../loadscreen/" title="Loading Screen" class="md-nav__link">Loading Screen</a></li><li class="md-nav__item"><a href="../../security/" title="Security and Banks" class="md-nav__link">Security and Banks</a></li><li class="md-nav__item"><a href="../../tools/" title="Advanced Tools" class="md-nav__link">Advanced Tools</a></li><li class="md-nav__item"><a href="../../git/" title="Git/Version Control" class="md-nav__link">Git/Version Control</a></li><li class="md-nav__item"><a href="../../editor/" title="Advanced Editor" class="md-nav__link">Advanced Editor</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#basesc2datagamedata" title="Base.SC2Data/GameData" class="md-nav__link">Base.SC2Data/GameData</a></li><li class="md-nav__item"><a href="#basesc2datauilayout" title="Base.SC2Data/UI/Layout" class="md-nav__link">Base.SC2Data/UI/Layout</a></li><li class="md-nav__item"><a href="#basesc2dataui" title="Base.SC2Data/UI" class="md-nav__link">Base.SC2Data/UI</a></li><li class="md-nav__item"><a href="#scripts" title="scripts" class="md-nav__link">scripts</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1>6 scaffolding</h1><p>First of all, save any pending changes and close the project in <code>sc2edit</code> for now. There is no need to close the entire editor, just your project.</p>
<p>The time has come to fill out the project with some templates, scaffolding, and best practices that you can use and learn from later. The end result will look something like this:
<img alt="Folders" src="../../img/layout.jpg" title="Somewhat representative of a starter map folder and file layout." /></p>
<h3 id="basesc2datagamedata">Base.SC2Data/GameData<a class="headerlink" href="#basesc2datagamedata" title="Permanent link">&para;</a></h3>
<p>In the example screenshot above, you can see there is a file called <code>AbilData.xml</code>. Ignore this file, it just means that for step 3.3 above, we changed a random thing in an Ability to get the data initialized.</p>
<p>The rest of the folders below <code>GameData</code> are example names. These are categories for your "Data spaces". A dataspace is a kind of virtual category where you can put any arbitrary data. If you are not familiar with editing Data yet, do not worry too much about this. There are just a few important things to note:</p>
<ol>
<li>You do not need to create any of them</li>
<li>They can be named anything you want</li>
<li>It's generally a good idea to prefix the actual dataspace files in each folder with a unique character from A-Z (for sorting purposes in the Data editor)</li>
<li>You can have as many, or as few, as you want - and any folder can contain as many as you want</li>
<li>They do not need to be in a folder, but can be directly in <code>GameData</code> - see the example file in the screenshot; <code>Auras.xml</code></li>
<li>To be able to use these custom categories / data spaces, you need to add them manually to the file lower down in the screenshot called <code>GameData.xml</code></li>
<li>Dataspaces can be opened as tabs in the Data module, or you can simply use them for sorting the data more easily in an existing core space</li>
</ol>
<p>This is what <code>Base.SC2Data/GameData.xml</code> looks like for our example map (note that it does not contain any references to <code>AbilData.xml</code>, but only to our custom dataspaces):
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;us-ascii&quot;?&gt;</span>
<span class="nt">&lt;Includes&gt;</span>
    <span class="c">&lt;!--</span>
<span class="c">        ! IMPORTANT NOTE !</span>
<span class="c">        You can _NOT_ modify this file while your project</span>
<span class="c">        is open in sc2edit.</span>
<span class="c">        Even if the Data editor is closed.</span>

<span class="c">        The reason this is important to note and remember, is that</span>
<span class="c">        the same is not true for scripts or layouts.</span>
<span class="c">        They can be modified, added, removed, etc, however you please</span>
<span class="c">        while the editor is running.</span>

<span class="c">        You need to:</span>
<span class="c">        1. Close your project in sc2edit</span>
<span class="c">        2. Open this file and change it</span>
<span class="c">        3. Make the necessary changes to the files in GameData/</span>
<span class="c">        4. If you add new files, you need to add the standard</span>
<span class="c">&lt;?xml version=&quot;1.0&quot; encoding=&quot;us-ascii&quot;?&gt;</span>
<span class="c">&lt;Catalog&gt;</span>
<span class="c">&lt;/Catalog&gt;</span>
<span class="c">        (and remember to save as UTF8 with LF line endings.)</span>
<span class="c">        5. Make sure you save everything, and that all filenames match</span>
<span class="c">        6. Close this file and then reopen your project in sc2edit</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/Auras.xml&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/Heroes/H-Tychus.xml&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/Heroes/H-Alarak.xml&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/Heroes/H-Nova.xml&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/Talents/T-Tychus.xml&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/Zerg/Z-Monster.xml&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/Specialists/S-Raynor.xml&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/GameMode/G-MyFunGame.xml&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Catalog</span> <span class="na">path=</span><span class="s">&quot;GameData/Evil/E-Nemesis.xml&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/Includes&gt;</span>
</pre></div>
</td></tr></table></p>
<p>As the comment in the file clearly notes, new files that you add need to be populated with the following code before you open the project in <code>sc2edit</code> again:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;us-ascii&quot;?&gt;</span>
<span class="nt">&lt;Catalog&gt;</span>
<span class="nt">&lt;/Catalog&gt;</span>
</pre></div>
</td></tr></table>
(you could use the XML shorthand <code>&lt;Catalog/&gt;</code> as well, but you can't paste code from other maps or sources into that, so it's easier with the full open+close tag)</p>
<p>You need to save these files as UTF8 (which should be the default in vscode), and with <code>LF</code> line endings. This includes <code>GameData.xml</code> as well.</p>
<p>Blizzard themselves use these custom dataspaces for all Heroes of the Storm heroes, and recently (as of writing, with the Tychus Coop commander) they started using it for SC2 Coop data.</p>
<p>To complete this step, obviously create as many or as few of the dataspaces you want, and edit <code>GameData.xml</code> accordingly. For large maps, this is a great tool to organize your data.</p>
<p>Completely unrelated to the above, this folder is also home to a file called <code>Assets.txt</code>. Here is our example content for this file:</p>
<p><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">// This makes all the tooltips use the blue bnet look, regardless of race.</span>
<span class="c">// Obviously, here we are overriding asset-references defined in the sc2 core.</span>
<span class="c">// Search for these keys (&quot;UI/StandardGameTooltip&quot;) in the sc2 game data</span>
<span class="c">// vscode window (c-s-F) to find out where they are used and defined.</span>
<span class="na">UI/StandardGameTooltip</span><span class="o">=</span><span class="s">Assets\Textures\ui_battlenet_tooltip_outline.dds</span>
<span class="na">UI/StandardGameTooltip_Prot</span><span class="o">=</span><span class="s">Assets\Textures\ui_battlenet_tooltip_outline.dds</span>
<span class="na">UI/StandardGameTooltip_Terr</span><span class="o">=</span><span class="s">Assets\Textures\ui_battlenet_tooltip_outline.dds</span>
<span class="na">UI/StandardGameTooltip_Zerg</span><span class="o">=</span><span class="s">Assets\Textures\ui_battlenet_tooltip_outline.dds</span>
</pre></div>
</td></tr></table>
All this example properties files does is override the texture used for the ingame tooltip that usually depends on race, to all use the same Battle.net-style texture. In this file, you can add any identifier (the part before <code>=</code>), and use it to reference any resource (dds, jpeg, png, tga, sounds, etc) that is usable by the engine.</p>
<p>These paths are mostly used by the user interface XML - the <code>.SC2Layout</code> files. The ones in the example code above are used by the core game user interface code.</p>
<div class="admonition example">
<p class="admonition-title">Exercise</p>
<p>As an exercise, copy <code>UI/StandardGameTooltip</code> to your clipboard now, switch to the vscode instance that is open
with the SC2+Storm Game Data, and hit <code>c-s-F</code>. Hit <code>c-V</code> to paste your clipboard, and hit <code>Enter</code> to search the
game data for <code>UI/StandardGameTooltip</code>. Look through and find where the property is defined, and where it might be used.</p>
<p>See if you can find one or more instances where it is prefixed by <code>@@</code>. This means that the current players race
identifier (<code>_Terr</code>, <code>_Zerg</code>, <code>_Prot</code>, or custom) will be appended to the property name at lookup.</p>
</div>
<h3 id="basesc2datauilayout">Base.SC2Data/UI/Layout<a class="headerlink" href="#basesc2datauilayout" title="Permanent link">&para;</a></h3>
<p>As you can see from the screenshot above, we've already deleted the <code>.SC2Layout</code> file we created in step 3.2. Whatever you named it - <code>wtfbbq.SC2Layout</code>, <code>test.SC2Layout</code>, etc - just delete it now.</p>
<p>Add in the files as named in the screenshot; <code>Constants</code>, <code>LoadingScreen</code>, <code>Overrides</code>, and <code>Templates</code> - all with the <code>.SC2Layout</code> extension. All <code>.SC2Layout</code> files must be saved as UTF8 with <code>LF</code> line endings to match sc2edit.</p>
<p>Obviously, the files - except <code>DescIndex</code> - can be named anything you want. The below are just to get some core concepts into your head along with some comments and frames that might be relevant to the context.</p>
<p>Each file below can be expanded/collapsed by clicking the filename.</p>
<details class="tldr" open="open"><summary>Constants.SC2Layout</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="nt">&lt;Desc&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;PopupButtonSize&quot;</span> <span class="na">val=</span><span class="s">&quot;64&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ButtonGap&quot;</span> <span class="na">val=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        Add constants for different UI layers we define here</span>
<span class="c">        So that it&#39;s easier for us to determine what should be on top of what</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;RenderPriorityAbsolute&quot;</span> <span class="na">val=</span><span class="s">&quot;1000&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;RenderPriority1&quot;</span> <span class="na">val=</span><span class="s">&quot;900&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;RenderPriority2&quot;</span> <span class="na">val=</span><span class="s">&quot;800&quot;</span><span class="nt">/&gt;</span>
    <span class="c">&lt;!-- Standard render priority for the SC2 interface is 512 --&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        https://coolors.co/app</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorHealth&quot;</span> <span class="na">val=</span><span class="s">&quot;00d85a&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorShield&quot;</span> <span class="na">val=</span><span class="s">&quot;008bf8&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorEnergy&quot;</span> <span class="na">val=</span><span class="s">&quot;d525b1&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorBuff&quot;</span> <span class="na">val=</span><span class="s">&quot;fb8b24&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorProgress&quot;</span> <span class="na">val=</span><span class="s">&quot;f5b700&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorXp&quot;</span> <span class="na">val=</span><span class="s">&quot;7f675b&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorDuration&quot;</span> <span class="na">val=</span><span class="s">&quot;9a8c98&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/Desc&gt;</span>
</pre></div>
</td></tr></table>

</details>
<details class="tldr"><summary>DescIndex.SC2Layout</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="nt">&lt;Desc&gt;</span>
    <span class="c">&lt;!-- </span>
<span class="c">        The important thing to note in this file is the ordering</span>
<span class="c">        of concepts. The loading screen can be put anywhere, it will</span>
<span class="c">        not be loaded by the in-game UI.</span>
<span class="c">        But Constants need to be defined first, then Templates, then</span>
<span class="c">        your overrides of the default UI, and finally your custom frames.</span>

<span class="c">        &quot;Need&quot; is a strong word, but best practices.</span>
<span class="c">        Obviously things can be spread out among as many files as you want.</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Include</span> <span class="na">path=</span><span class="s">&quot;UI/Layout/Constants.SC2Layout&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Include</span> <span class="na">path=</span><span class="s">&quot;UI/Layout/Templates.SC2Layout&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;Include</span> <span class="na">path=</span><span class="s">&quot;UI/Layout/LoadingScreen.SC2Layout&quot;</span> <span class="na">requiredtoload=</span><span class="s">&quot;IS_EDITOR&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;Include</span> <span class="na">path=</span><span class="s">&quot;UI/Layout/Overrides.SC2Layout&quot;</span><span class="nt">/&gt;</span>
    <span class="c">&lt;!-- &lt;Include path=&quot;UI/Layout/Foo.SC2Layout&quot;/&gt; --&gt;</span>
    <span class="c">&lt;!-- &lt;Include path=&quot;UI/Layout/Bar.SC2Layout&quot;/&gt; --&gt;</span>
<span class="nt">&lt;/Desc&gt;</span>
</pre></div>
</td></tr></table>

</details>
<details class="tldr"><summary>LoadingScreen.SC2Layout</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="nt">&lt;Desc&gt;</span>
    <span class="c">&lt;!--</span>
<span class="c">        Loading screen XML can not reference assets from your map.</span>
<span class="c">        This includes textures/images, sounds, game strings (text),</span>
<span class="c">        UI XML outside this file (templates/constants/whatever), or</span>
<span class="c">        essentially anything else. Font Styles neither.</span>

<span class="c">        There are exceptions to this, but they are few and weird.</span>
<span class="c">        The most notable exception is that - for some unknown reason -</span>
<span class="c">        you can actually reference JPEG image files. Not PNG, not DDS,</span>
<span class="c">        not anything else - just JPEG.</span>

<span class="c">        The only text you can reference, is the text you can set up</span>
<span class="c">        in the Map Options - Loading Screen in the editor, which</span>
<span class="c">        you can grab and manipulate in any way you want.</span>

<span class="c">        Therefore, it is recommended to use Constants like below to</span>
<span class="c">        store any other text strings you use later in the loading screen.</span>
<span class="c">        This makes it easier in the long run.</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;MyTextOne&quot;</span> <span class="na">val=</span><span class="s">&quot;Lorem ipsum doret sit amet or something like that.&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;FooText&quot;</span> <span class="na">val=</span><span class="s">&quot;Bar Bbq Xerox&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;AwesomeHeaderText&quot;</span> <span class="na">val=</span><span class="s">&quot;MY MAP ROCKS SOCKS&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;Frame&quot;</span> <span class="na">name=</span><span class="s">&quot;MyMapLoadingScreen&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Anchor</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span><span class="nt">/&gt;</span>
        <span class="c">&lt;!--</span>
<span class="c">            Debug block box; uncomment the following editbox, enable &quot;Wait for key&quot;</span>
<span class="c">            in the Map Options in sc2edit, and then you can use the UI inspector or whatever</span>
<span class="c">            you want at your leisure. Just click the editbox to focus during loading and hit</span>
<span class="c">            the keybinding for the UI inspector.</span>
<span class="c">        --&gt;</span>
        <span class="c">&lt;!--Frame type=&quot;EditBox&quot; name=&quot;Block&quot; template=&quot;StandardBattlenetTemplates/BattlenetEditBoxTemplate&quot;&gt;</span>
<span class="c">            &lt;Anchor side=&quot;Top&quot; relative=&quot;$parent/Header&quot; pos=&quot;Max&quot; offset=&quot;10&quot;/&gt;</span>
<span class="c">            &lt;Anchor side=&quot;Left&quot; relative=&quot;$parent&quot; pos=&quot;Mid&quot; offset=&quot;0&quot;/&gt;</span>
<span class="c">            &lt;Anchor side=&quot;Right&quot; relative=&quot;$parent&quot; pos=&quot;Mid&quot; offset=&quot;0&quot;/&gt;</span>
<span class="c">            &lt;Width val=&quot;450&quot;/&gt;</span>
<span class="c">            &lt;Height val=&quot;68&quot;/&gt;</span>
<span class="c">            &lt;Insets top=&quot;20&quot; left=&quot;25&quot; bottom=&quot;15&quot; right=&quot;20&quot;/&gt;</span>
<span class="c">            &lt;BlocksShortcuts val=&quot;true&quot;/&gt;</span>
<span class="c">        &lt;/Frame--&gt;</span>

        <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;Label&quot;</span> <span class="na">name=</span><span class="s">&quot;Header&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Top&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Min&quot;</span> <span class="na">offset=</span><span class="s">&quot;30&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Left&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Mid&quot;</span> <span class="na">offset=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Right&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Mid&quot;</span> <span class="na">offset=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Style</span> <span class="na">val=</span><span class="s">&quot;@Coop_CommanderLevel_Max&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Text</span> <span class="na">val=</span><span class="s">&quot;#AwesomeHeaderText&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Frame&gt;</span>

        <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;Frame&quot;</span> <span class="na">name=</span><span class="s">&quot;Container&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Top&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent/Header&quot;</span> <span class="na">pos=</span><span class="s">&quot;Max&quot;</span> <span class="na">offset=</span><span class="s">&quot;4&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Left&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Min&quot;</span> <span class="na">offset=</span><span class="s">&quot;12&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Right&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Max&quot;</span> <span class="na">offset=</span><span class="s">&quot;-12&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Bottom&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent/$parent/$parent/LoadingBar&quot;</span> <span class="na">pos=</span><span class="s">&quot;Min&quot;</span> <span class="na">offset=</span><span class="s">&quot;10&quot;</span><span class="nt">/&gt;</span>
            <span class="c">&lt;!-- TODO: Add more junk here --&gt;</span>
        <span class="nt">&lt;/Frame&gt;</span>
    <span class="nt">&lt;/Frame&gt;</span>
<span class="nt">&lt;/Desc&gt;</span>
</pre></div>
</td></tr></table>

</details>
<details class="tldr"><summary>Overrides.SC2Layout</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="nt">&lt;Desc&gt;</span>
    <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;GameUI&quot;</span> <span class="na">name=</span><span class="s">&quot;GameUI&quot;</span> <span class="na">file=</span><span class="s">&quot;GameUI&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ConsoleWorldBottomOffset</span> <span class="na">val=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;SuppressEnemyConnectionEvents</span> <span class="na">val=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;DeactivateChatBarOnClick</span> <span class="na">val=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Frame&gt;</span>

    <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;Frame&quot;</span> <span class="na">name=</span><span class="s">&quot;GameUI/UIContainer/FullscreenUpperContainer&quot;</span> <span class="na">file=</span><span class="s">&quot;GameUI&quot;</span><span class="nt">&gt;</span>
        <span class="c">&lt;!--</span>
<span class="c">            This holds the &quot;game is paused&quot; message, for example.</span>
<span class="c">            We always want it to render above everything else.</span>
<span class="c">        --&gt;</span>
        <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;SystemAlertPanel&quot;</span> <span class="na">name=</span><span class="s">&quot;SystemAlertPanel&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;RenderPriority</span> <span class="na">val=</span><span class="s">&quot;#RenderPriorityAbsolute&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Frame&gt;</span>

        <span class="c">&lt;!-- Move, resize, and restyle the chat display slightly --&gt;</span>
        <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;GameMessageDisplay&quot;</span> <span class="na">name=</span><span class="s">&quot;ChatDisplay&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Bottom&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Max&quot;</span> <span class="na">offset=</span><span class="s">&quot;-400&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Width</span> <span class="na">val=</span><span class="s">&quot;840&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Height</span> <span class="na">val=</span><span class="s">&quot;400&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Style</span> <span class="na">val=</span><span class="s">&quot;MyTooltipInfo&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;HideClippedMessages</span> <span class="na">val=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Frame&gt;</span>

        <span class="c">&lt;!-- Hide these displays, our map never uses them anyway --&gt;</span>
        <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;GameMessageDisplay&quot;</span> <span class="na">name=</span><span class="s">&quot;WarningDisplay&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Visible</span> <span class="na">val=</span><span class="s">&quot;False&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Frame&gt;</span>
        <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;GameMessageDisplay&quot;</span> <span class="na">name=</span><span class="s">&quot;ObjectiveDisplay&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Visible</span> <span class="na">val=</span><span class="s">&quot;False&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Frame&gt;</span>
        <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;GameMessageDisplay&quot;</span> <span class="na">name=</span><span class="s">&quot;DirectiveDisplay&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Visible</span> <span class="na">val=</span><span class="s">&quot;False&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Frame&gt;</span>
    <span class="nt">&lt;/Frame&gt;</span>

    <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;Frame&quot;</span> <span class="na">name=</span><span class="s">&quot;GameUI/UIContainer/ConsoleUIContainer&quot;</span> <span class="na">file=</span><span class="s">&quot;GameUI&quot;</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- Re-anchor the TriggerWindowPanel to fill the entire screen --&gt;</span>
        <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;TriggerWindowPanel&quot;</span> <span class="na">name=</span><span class="s">&quot;TriggerWindowPanel&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Top&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Min&quot;</span> <span class="na">offset=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Left&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Min&quot;</span> <span class="na">offset=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Bottom&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Max&quot;</span> <span class="na">offset=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Anchor</span> <span class="na">side=</span><span class="s">&quot;Right&quot;</span> <span class="na">relative=</span><span class="s">&quot;$parent&quot;</span> <span class="na">pos=</span><span class="s">&quot;Max&quot;</span> <span class="na">offset=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Frame&gt;</span>
    <span class="nt">&lt;/Frame&gt;</span>

    <span class="nt">&lt;Frame</span> <span class="na">type=</span><span class="s">&quot;ConsolePanel&quot;</span> <span class="na">name=</span><span class="s">&quot;GameUI/UIContainer/ConsolePanel&quot;</span> <span class="na">file=</span><span class="s">&quot;GameUI&quot;</span><span class="nt">&gt;</span>
        <span class="c">&lt;!--</span>
<span class="c">            Stop the console panel from catching mouse clicks</span>
<span class="c">        --&gt;</span>
        <span class="nt">&lt;AcceptsMouse</span> <span class="na">val=</span><span class="s">&quot;False&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Frame&gt;</span>
<span class="nt">&lt;/Desc&gt;</span>
</pre></div>
</td></tr></table>

</details>
<details class="tldr"><summary>Templates.SC2Layout</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="nt">&lt;Desc&gt;</span>
    <span class="c">&lt;!-- Here you add your templates.</span>
<span class="c">    Templates are Frames that you will reuse multiple times. --&gt;</span>
<span class="nt">&lt;/Desc&gt;</span>
</pre></div>
</td></tr></table>

</details>
<h3 id="basesc2dataui">Base.SC2Data/UI<a class="headerlink" href="#basesc2dataui" title="Permanent link">&para;</a></h3>
<p>The home of the Font Styles. There is a lot to say and write about these. Most of that is done in the <a href="../../fonts/">Fonts and Styles</a> section. For now, the important thing to do is just get the following code copied and pasted into the file. You can replace the entire file, the font style we created in step 3.1 is obviously not used for anything.</p>
<p>This file should be saved as UTF8 with <code>CRLF</code> line endings.</p>
<p>In the code, there are some constants pointing to the default Blizzard fonts. These can be replaced with whatever font you want, as long as you package it with your map. The way this <code>FontStyles.SC2Style</code> is set up, no matter what fonts you pick it will work for all languages - they simply fall back to the Blizzard font for Asian glyphs that your weird font doesn't support.</p>
<p>Personally, this author places those in a folder called <code>Fonts</code> in the base of the map. In which case, the constant would be, for example <code>&lt;Constant name="MyHeaderFont" val="Fonts\Wingdings.ttf"/&gt;</code>. The <code>Weird</code> font is not used by any of the standard UI elements - it is just there to show that you can add more than 2 fonts.</p>
<p>Obviously, if you do not wish to restyle the entire SC2 interface with your own font choices (but you do, because the Metro font from Heroes of the Storm looks much better), you can simply remove the relevant overrides, FontGroups, and Constants. Go to the <a href="../../fonts/">Fonts and Styles</a> for more details.</p>
<details class="tldr"><summary>FontStyles.SC2Style</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">    &lt;Style  name=&quot;&quot;                 - string identifier</span>
<span class="c">            font=&quot;&quot;                 - file name (preferably a constant)</span>
<span class="c">            height=&quot;&quot;               - integer [1, 200]</span>
<span class="c">            vjustify=&quot;&quot;             - &quot;Top&quot;,&quot;Middle&quot;,&quot;Bottom&quot;</span>
<span class="c">            hjustify=&quot;&quot;             - &quot;Left&quot;,&quot;Center&quot;,&quot;Right&quot;</span>
<span class="c">            styleflags=&quot;&quot;           - Shadow|Glow|InlineJustification|Uppercase|TightGradient</span>
<span class="c">                                    |Outline|Bold|Italic</span>
<span class="c">                                    |HintingOff|HintingNative|HintingAuto</span>
<span class="c">                                    |HintStyleNormal|HintStyleLight|HintStyleLCD|HintStyleLCDVertical</span>
<span class="c">                                    (note that you cancel/negate a flag set by a previous</span>
<span class="c">                                    template by prepending ! to it)</span>
<span class="c">            textcolor=&quot;&quot;            - Gradient Color</span>
<span class="c">            disabledcolor=&quot;&quot;        - Gradient Color</span>
<span class="c">            highlightcolor=&quot;&quot;       - Gradient Color</span>
<span class="c">            hotkeycolor=&quot;&quot;          - Gradient Color</span>
<span class="c">            hyperlinkcolor=&quot;&quot;       - Gradient Color</span>
<span class="c">            glowcolor=&quot;&quot;            - Color</span>
<span class="c">            glowMode=&quot;&quot;             - &quot;Add&quot;,&quot;Normal&quot;</span>
<span class="c">            highlightglowcolor=&quot;&quot;   - Color</span>
<span class="c">            disabledglowcolor=&quot;&quot;    - Color</span>
<span class="c">            shadowoffset=&quot;&quot;         - integer value [-128, 127]</span>
<span class="c">            outlinewidth=&quot;&quot;         - integer value [0,height]</span>
<span class="c">            outlinecolor=&quot;&quot;         - Color</span>
<span class="c">            lineSpacing=&quot;&quot;          - decimal multiplier [1.0, 4.0]</span>
<span class="c">            characterSpacing=&quot;&quot;     - integer addition [0, 255]</span>
<span class="c">            /&gt;</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;StyleFile&gt;</span>
    <span class="c">&lt;!--</span>
<span class="c">        NOTE</span>
<span class="c">        Remember, you are free to add, delete, modify, and do whatever you want</span>
<span class="c">        in this file. But you can not use the Font Style editor in sc2edit after</span>
<span class="c">        you create this file.</span>
<span class="c">        After you are done modifying this file, simply:</span>
<span class="c">        1. Tab back to sc2edit</span>
<span class="c">        2. Hit c-F9 to run the map, or</span>
<span class="c">        2. Use the reload UI hotkey in an already open editor test run</span>
<span class="c">        (XXX: I am not sure if reload-UI works for font styles)</span>
<span class="c">        (XXX: I am not sure if running Compile in sc2edit catches any errors you made while writing manually in the SC2Style)</span>
<span class="c">        (XXX: The above might not be true - it might be that you can still edit styles from the Text Module.</span>
<span class="c">            I&#39;ve not actually tried, and it seems unable to display custom fonts. Someone investigate.</span>
<span class="c">            I&#39;m not sure what or how it would overwrite comments or arrange the XML if one would edit from sc2edit.)</span>

<span class="c">        From now on, you _must_ edit font styles by hand, directly in this file.</span>
<span class="c">        You can use the Text Module (F8) in sc2edit (though it is entirely 100% useless,</span>
<span class="c">        and actually serves _no_ purpose), but you can not use the Font Styles tab.</span>
<span class="c">    --&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        Change these to whatever fonts you want to use</span>
<span class="c">        Put the fonts in a root Fonts folder in your map, or in Assets/Fonts, whatever you want.</span>
<span class="c">        For now, they need to point to existing fonts so that the map doesn&#39;t break,</span>
<span class="c">        Fonts can be used as both OTF and TTF formats.</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;MyHeaderFont&quot;</span> <span class="na">val=</span><span class="s">&quot;UI\Fonts\Eurostile-Bol.otf&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;MyStandardFont&quot;</span> <span class="na">val=</span><span class="s">&quot;UI\Fonts\Eurostile-Reg.otf&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;Weird&quot;</span> <span class="na">val=</span><span class="s">&quot;UI\Fonts\Eurostile-Reg.otf&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;FontGroup</span> <span class="na">name=</span><span class="s">&quot;MyWeirdFontGroup&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;CodepointRange</span> <span class="na">font=</span><span class="s">&quot;#BlizzardGlobal&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;CodepointRange</span> <span class="na">font=</span><span class="s">&quot;#Weird&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/FontGroup&gt;</span>
    <span class="nt">&lt;FontGroup</span> <span class="na">name=</span><span class="s">&quot;MyHeader&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;CodepointRange</span> <span class="na">font=</span><span class="s">&quot;#BlizzardGlobal&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;CodepointRange</span> <span class="na">font=</span><span class="s">&quot;UI\Fonts\Eurostile-Bol.otf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;CodepointRange</span> <span class="na">font=</span><span class="s">&quot;#MyHeaderFont&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/FontGroup&gt;</span>
    <span class="nt">&lt;FontGroup</span> <span class="na">name=</span><span class="s">&quot;MyStandard&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;CodepointRange</span> <span class="na">font=</span><span class="s">&quot;#BlizzardGlobal&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;CodepointRange</span> <span class="na">font=</span><span class="s">&quot;UI\Fonts\Eurostile-Reg.otf&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;CodepointRange</span> <span class="na">font=</span><span class="s">&quot;#MyStandardFont&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/FontGroup&gt;</span>

    <span class="c">&lt;!-- This constant is new, it does not overwrite any base SC2 fonts. --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;FontWeird&quot;</span> <span class="na">val=</span><span class="s">&quot;MyWeirdFontGroup&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        These constants are defined in SC2, and we _override_ them here.</span>
<span class="c">        This means that the ENTIRE interface in SC2 will use our fonts.</span>
<span class="c">        And it works with koKR/zhTW and all weird kinds of languages, because</span>
<span class="c">        we fall back gracefully through the `FontGroup` magic above.</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;FontHeader&quot;</span> <span class="na">val=</span><span class="s">&quot;MyHeader&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;FontHeaderExtended&quot;</span> <span class="na">val=</span><span class="s">&quot;MyHeader&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;FontStandard&quot;</span> <span class="na">val=</span><span class="s">&quot;MyStandard&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;FontStandardExtended&quot;</span> <span class="na">val=</span><span class="s">&quot;MyStandard&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;FontInternational&quot;</span> <span class="na">val=</span><span class="s">&quot;MyStandard&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!-- Font colors --&gt;</span>
    <span class="c">&lt;!-- Remember that all color values can be ARGB as well. --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;MyColorAqua&quot;</span> <span class="na">val=</span><span class="s">&quot;80ffff&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;MyColorMatteSky&quot;</span> <span class="na">val=</span><span class="s">&quot;00baff&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;MyColorLightYellow&quot;</span> <span class="na">val=</span><span class="s">&quot;ffff80&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!-- When you define gradients, you sadly can not use constants. --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;GradientChat&quot;</span> <span class="na">val=</span><span class="s">&quot;80ffff-afafaf&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;GradientHighlight&quot;</span> <span class="na">val=</span><span class="s">&quot;ffffff-00ffff&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        These styles are new to our map, they serve no purpose here except</span>
<span class="c">        to show the multiple levels of inheritance that is possible in Style</span>
<span class="c">        elements further below.</span>
<span class="c">        Note how we use #ColorWhite here, which is</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;OptionLabel&quot;</span> <span class="na">font=</span><span class="s">&quot;#FontStandard&quot;</span> <span class="na">height=</span><span class="s">&quot;16&quot;</span> <span class="na">styleflags=</span><span class="s">&quot;Shadow&quot;</span> <span class="na">textcolor=</span><span class="s">&quot;#MyColorAqua&quot;</span> <span class="na">hotkeycolor=</span><span class="s">&quot;#ColorWhite&quot;</span> <span class="na">shadowoffset=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;OptionCheckboxTitle&quot;</span> <span class="na">font=</span><span class="s">&quot;#FontHeader&quot;</span> <span class="na">height=</span><span class="s">&quot;16&quot;</span> <span class="na">vjustify=</span><span class="s">&quot;Middle&quot;</span> <span class="na">hjustify=</span><span class="s">&quot;Left&quot;</span> <span class="na">styleflags=</span><span class="s">&quot;Shadow&quot;</span> <span class="na">textcolor=</span><span class="s">&quot;#MyColorMatteSky&quot;</span> <span class="na">highlightcolor=</span><span class="s">&quot;#GradientHighlight&quot;</span> <span class="na">disabledcolor=</span><span class="s">&quot;#ColorGray6&quot;</span> <span class="na">shadowoffset=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;MyDialogText&quot;</span> <span class="na">val=</span><span class="s">&quot;#MyColorAqua&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;MyDialogHighlight&quot;</span> <span class="na">val=</span><span class="s">&quot;#MyColorLightYellow&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!-- Override such that all races use the same color for tooltips --&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorProtossTooltip&quot;</span> <span class="na">val=</span><span class="s">&quot;#MyDialogText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorTerranTooltip&quot;</span> <span class="na">val=</span><span class="s">&quot;#MyDialogText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Constant</span> <span class="na">name=</span><span class="s">&quot;ColorZergTooltip&quot;</span> <span class="na">val=</span><span class="s">&quot;#MyDialogText&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!-- These styles are new, we can use them in our layout XML directly --&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;MyTooltipTitle&quot;</span> <span class="na">template=</span><span class="s">&quot;OptionCheckboxTitle&quot;</span> <span class="na">height=</span><span class="s">&quot;20&quot;</span> <span class="na">hotkeycolor=</span><span class="s">&quot;#ColorWhite&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;MyTooltipInfo&quot;</span> <span class="na">template=</span><span class="s">&quot;OptionLabel&quot;</span> <span class="na">textcolor=</span><span class="s">&quot;#MyDialogHighlight&quot;</span> <span class="na">hotkeycolor=</span><span class="s">&quot;#ColorWhite&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;MyTooltipText&quot;</span> <span class="na">template=</span><span class="s">&quot;OptionLabel&quot;</span> <span class="na">styleflags=</span><span class="s">&quot;InlineJustification&quot;</span> <span class="na">hotkeycolor=</span><span class="s">&quot;#ColorWhite&quot;</span><span class="nt">/&gt;</span>

    <span class="c">&lt;!--</span>
<span class="c">        TOOLTIP OVERRIDES</span>
<span class="c">        Here, we are overriding the base game Font Styles used for</span>
<span class="c">        all tooltips by applying our own templates on top of them.</span>
<span class="c">        This means that, although we already overwrite all _fonts_</span>
<span class="c">        above by simply changing the Font* constants, we can also</span>
<span class="c">        apply entirely new templates to all existing styles used by</span>
<span class="c">        the base game.</span>
<span class="c">    --&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltip&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltip_Prot&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltip_Terr&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltip_Zerg&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltip_SwarmKerriganAbility&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StoryModeTooltip&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;CommandTooltipRequirements&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;CommandTooltipRequirements_Terr&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;CommandTooltipRequirements_Prot&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;CommandTooltipRequirements_Zerg&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipText&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltipHeader&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipTitle&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltipHeader_Prot&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipTitle&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltipHeader_Terr&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipTitle&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltipHeader_Zerg&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipTitle&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltipHeader_White&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipTitle&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;StandardTooltipHeader_SwarmKerriganAbility&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipTitle&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;CommandTooltipAutocast&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipInfo&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;CommandTooltipInventory&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipInfo&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;Style</span> <span class="na">name=</span><span class="s">&quot;GlueButton&quot;</span> <span class="na">template=</span><span class="s">&quot;MyTooltipTitle&quot;</span> <span class="na">height=</span><span class="s">&quot;22&quot;</span> <span class="na">hjustify=</span><span class="s">&quot;Center&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/StyleFile&gt;</span>
</pre></div>
</td></tr></table>

</details>
<h3 id="scripts">scripts<a class="headerlink" href="#scripts" title="Permanent link">&para;</a></h3>
<p>This folder contains our raw Galaxy source code for the map. For a large scale map, it will benefit you to write 50% of the code in the Trigger editor, and the other 50% of the code in raw Galaxy.</p>
<p>There's a few things that are simply easier to reference in the Trigger editor - like Actors, Cinematics, Map initialization, and so forth. Over time, you will learn which parts are more easily done where. Remember the 50/50 rule - it is quite spot on for this author. Our current project is ~29000 lines of <code>MapScript.galaxy</code> (which is automatically generated by sc2edit from the Triggers), and ~10000 lines of code in raw Galaxy. It may not seem like those numbers add up to 50/50, but once you learn how much "fluff" sc2edit produces when auto-generating code, you'll see that it is, in fact, close to 50/50.</p>
<p>Galaxy files in this folder can be added/deleted/renamed, and coded on to your hearts content without requiring restarts of <code>sc2edit</code>.</p>
<p>XXX The code below was yanked from an existing project, stripped down, morphed, and changed dramatically, all without testing it. Would be great if someone could follow the steps in the tutorial and tell me/us/discord if this code even compiles, let alone runs.</p>
<details class="tldr" open="open"><summary>main.galaxy</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">const</span> <span class="kt">int</span> <span class="n">MAX_PLAYERS</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="k">static</span> <span class="k">const</span> <span class="n">string</span> <span class="n">NAMESPACE</span> <span class="o">=</span> <span class="s">&quot;ThisVariableCanOnlyBeAccessedIn main.galaxy&quot;</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">noopfunc</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// This function can not be accessed outside this file.</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">anothernoop</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// This function can</span>
<span class="p">}</span>

<span class="n">include</span> <span class="s">&quot;scripts/util&quot;</span>
<span class="n">include</span> <span class="s">&quot;scripts/cmd&quot;</span>

<span class="kt">void</span> <span class="n">cmdLol</span><span class="p">(</span><span class="n">string</span> <span class="n">in</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sys</span><span class="p">(</span><span class="s">&quot;lol&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// This function is invoked from MapScript.galaxy when the map</span>
    <span class="c1">// first loads.</span>

    <span class="c1">// We never touch MapScript.galaxy from vscode, because</span>
    <span class="c1">// sc2edit will overwrite it any time you hit Save in sc2edit.</span>

    <span class="c1">// You are free to add, delete, rename, and otherwise do whatever</span>
    <span class="c1">// you want inside the scripts/ folder before tabbing back to</span>
    <span class="c1">// sc2edit, hitting c-F12 to Compile and c-F9 to run.</span>

    <span class="n">noopfunc</span><span class="p">();</span>
    <span class="n">initUtil</span><span class="p">();</span>
    <span class="n">initCmd</span><span class="p">();</span>

    <span class="n">registerChatCommand</span><span class="p">(</span><span class="s">&quot;lol&quot;</span><span class="p">,</span> <span class="s">&quot;Prints &#39;lol&#39;.&quot;</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="n">cmdLol</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

</details>
<details class="tldr"><summary>cmd.galaxy</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">// This file contains a very rudimentary and simply command processor and registry.</span>
<span class="c1">// The main entry point is registerChatCommand.</span>
<span class="c1">//</span>
<span class="c1">// There is lots of room for improvement here, and that&#39;s kind of the point.</span>
<span class="c1">// While improvements to the code are welcome in the SC2 documentation repository,</span>
<span class="c1">// remember that users should want to improve the code in their own time.</span>
<span class="c1">// The most useful thing would probably be to add some comments sprinkled around on</span>
<span class="c1">// how to improve things incrementally.</span>
<span class="c1">//</span>
<span class="kt">void</span> <span class="nf">runCmd</span><span class="p">(</span><span class="n">string</span> <span class="n">input</span><span class="p">,</span> <span class="kt">int</span> <span class="n">player</span><span class="p">);</span>
<span class="k">typedef</span> <span class="n">funcref</span><span class="o">&lt;</span><span class="n">runCmd</span><span class="o">&gt;</span> <span class="n">runCmdRef</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">cmd</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">cmd</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">helptext</span><span class="p">;</span>
    <span class="n">runCmdRef</span> <span class="n">invoke</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">enabled</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">needsInput</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">typedef</span> <span class="n">structref</span><span class="o">&lt;</span><span class="n">cmd</span><span class="o">&gt;</span> <span class="n">cmdRef</span><span class="p">;</span>

<span class="k">static</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span> <span class="n">cmds</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">cmdCount</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">registerChatCommand</span><span class="p">(</span><span class="n">string</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">string</span> <span class="n">helptext</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">needsInput</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">enabled</span><span class="p">,</span> <span class="n">runCmdRef</span> <span class="n">run</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cmds</span><span class="p">[</span><span class="n">cmdCount</span><span class="p">].</span><span class="n">invoke</span> <span class="o">=</span> <span class="n">run</span><span class="p">;</span>
    <span class="n">cmds</span><span class="p">[</span><span class="n">cmdCount</span><span class="p">].</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">cmd</span><span class="p">;</span>
    <span class="n">cmds</span><span class="p">[</span><span class="n">cmdCount</span><span class="p">].</span><span class="n">helptext</span> <span class="o">=</span> <span class="n">helptext</span><span class="p">;</span>
    <span class="n">cmds</span><span class="p">[</span><span class="n">cmdCount</span><span class="p">].</span><span class="n">needsInput</span> <span class="o">=</span> <span class="n">needsInput</span><span class="p">;</span>
    <span class="n">cmds</span><span class="p">[</span><span class="n">cmdCount</span><span class="p">].</span><span class="n">enabled</span> <span class="o">=</span> <span class="n">enabled</span><span class="p">;</span>
    <span class="n">cmdCount</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">getCommandInfo</span><span class="p">(</span><span class="n">string</span> <span class="n">cmd</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmdCount</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">cmds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cmd</span> <span class="o">==</span> <span class="n">cmd</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">toggleChatCommand</span><span class="p">(</span><span class="n">string</span> <span class="n">cmd</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">enabled</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">getCommandInfo</span><span class="p">(</span><span class="n">cmd</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span> <span class="p">}</span>
    <span class="n">cmds</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">enabled</span> <span class="o">=</span> <span class="n">enabled</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">invoke</span><span class="p">(</span><span class="n">cmdRef</span> <span class="n">run</span><span class="p">,</span> <span class="n">string</span> <span class="n">input</span><span class="p">,</span> <span class="kt">int</span> <span class="n">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">run</span><span class="p">.</span><span class="n">enabled</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">err</span><span class="p">(</span><span class="s">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="n">run</span><span class="p">.</span><span class="n">cmd</span> <span class="o">+</span> <span class="s">&quot;&#39; is currently disabled.&quot;</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">run</span><span class="p">.</span><span class="n">needsInput</span> <span class="o">==</span> <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="n">input</span> <span class="o">==</span> <span class="n">null</span> <span class="o">||</span> <span class="n">input</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">err</span><span class="p">(</span><span class="n">run</span><span class="p">.</span><span class="n">helptext</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">run</span><span class="p">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">commandInvoked</span><span class="p">(</span><span class="kt">bool</span> <span class="n">check</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">run</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">player</span> <span class="o">=</span> <span class="n">EventPlayer</span><span class="p">();</span>
    <span class="n">string</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">EventChatMessage</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="n">string</span> <span class="n">input</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">cmd</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">any</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">run</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">StringSub</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="s">&quot;-&quot;</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">StringContains</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">c_stringAnywhere</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">StringFind</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="n">StringCase</span><span class="p">(</span><span class="n">StringSub</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="nb">false</span><span class="p">);</span>
        <span class="n">input</span> <span class="o">=</span> <span class="n">StringSub</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">StringLength</span><span class="p">(</span><span class="n">msg</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="n">StringCase</span><span class="p">(</span><span class="n">StringSub</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">StringLength</span><span class="p">(</span><span class="n">msg</span><span class="p">)),</span> <span class="nb">false</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="n">cmd</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmdCount</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">cmds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cmd</span> <span class="o">==</span> <span class="n">cmd</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">any</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="n">invoke</span><span class="p">(</span><span class="n">cmds</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">input</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">any</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">err</span><span class="p">(</span><span class="s">&quot;No such command (&#39;&quot;</span> <span class="o">+</span> <span class="n">cmd</span> <span class="o">+</span> <span class="s">&quot;&#39;) found.&quot;</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">specificCommandHelp</span><span class="p">(</span><span class="n">string</span> <span class="n">cmd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">found</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">exact</span> <span class="o">=</span> <span class="n">getCommandInfo</span><span class="p">(</span><span class="n">cmd</span><span class="p">);</span>
    <span class="n">string</span> <span class="n">avail</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">exact</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
        <span class="c1">// We found an exact match, so show the help for it.</span>
        <span class="n">sys</span><span class="p">(</span><span class="n">cmds</span><span class="p">[</span><span class="n">exact</span><span class="p">].</span><span class="n">helptext</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// We did not find an exact match, so we do a fuzzy search</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmdCount</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">cmds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">enabled</span> <span class="o">&amp;&amp;</span>
                <span class="n">StringContains</span><span class="p">(</span><span class="n">cmds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cmd</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">c_stringAnywhere</span><span class="p">,</span> <span class="nb">false</span><span class="p">)</span>
            <span class="p">)</span> <span class="p">{</span>
                <span class="n">avail</span> <span class="o">=</span> <span class="n">avail</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="n">cmds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cmd</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">avail</span> <span class="o">!=</span> <span class="s">&quot;&quot;</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">sys</span><span class="p">(</span><span class="s">&quot;Matches:&quot;</span> <span class="o">+</span> <span class="n">avail</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
            <span class="n">avail</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">sys</span><span class="p">(</span><span class="s">&quot;No matching commands.&quot;</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">cmdHelp</span><span class="p">(</span><span class="n">string</span> <span class="n">input</span><span class="p">,</span> <span class="kt">int</span> <span class="n">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">with</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">avail</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">input</span> <span class="o">!=</span> <span class="n">null</span> <span class="p">)</span> <span class="p">{</span> <span class="n">with</span> <span class="o">=</span> <span class="n">StringCase</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span> <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">with</span> <span class="o">!=</span> <span class="n">null</span> <span class="o">&amp;&amp;</span> <span class="n">with</span> <span class="o">!=</span> <span class="s">&quot;&quot;</span> <span class="o">&amp;&amp;</span> <span class="n">with</span> <span class="o">!=</span> <span class="s">&quot; &quot;</span> <span class="p">)</span> <span class="p">{</span>
        <span class="c1">// -help [anything]</span>
        <span class="n">specificCommandHelp</span><span class="p">(</span><span class="n">with</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// -help</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cmdCount</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">cmds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">enabled</span> <span class="p">)</span> <span class="p">{</span>
                <span class="n">avail</span> <span class="o">=</span> <span class="n">avail</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="n">cmds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cmd</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">avail</span> <span class="o">!=</span> <span class="s">&quot;&quot;</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">sys</span><span class="p">(</span><span class="s">&quot;Commands:&quot;</span> <span class="o">+</span> <span class="n">avail</span><span class="p">,</span> <span class="n">player</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">initCmd</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">TriggerAddEventChatMessage</span><span class="p">(</span><span class="n">TriggerCreate</span><span class="p">(</span><span class="s">&quot;commandInvoked&quot;</span><span class="p">),</span> <span class="n">c_playerAny</span><span class="p">,</span> <span class="s">&quot;-&quot;</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
    <span class="n">registerChatCommand</span><span class="p">(</span><span class="s">&quot;help&quot;</span><span class="p">,</span> <span class="s">&quot;Shows available commands, or help for a specific command.&quot;</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="n">cmdHelp</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

</details>
<details class="tldr"><summary>util.galaxy</summary><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">// You&#39;re actually better served defining this kind of thing in the</span>
<span class="c1">// Trigger module, because then you can use the same flags from there.</span>
<span class="c1">// They&#39;d end up looking something like ge_MessageType_Error, then.</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_messageTypeError</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_messageTypeDebug</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">c_messageTypeSystem</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="k">static</span> <span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="n">messageColors</span><span class="p">;</span>

<span class="c1">// |text| can never be const, because we can&#39;t reference the type directly,</span>
<span class="c1">// only convert to it or extract it from defined API entry points</span>
<span class="k">static</span> <span class="n">text</span> <span class="n">colorBreak</span> <span class="o">=</span> <span class="n">StringToText</span><span class="p">(</span><span class="s">&quot;&lt;/c&gt;&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">printMsg</span><span class="p">(</span><span class="n">text</span> <span class="n">msg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">t</span> <span class="o">==</span> <span class="n">ge_MessageType_Debug</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">TriggerDebugOutput</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">p</span> <span class="o">==</span> <span class="n">c_playerAny</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">UIDisplayMessage</span><span class="p">(</span><span class="n">PlayerGroupAll</span><span class="p">(),</span> <span class="n">c_messageAreaSubtitle</span><span class="p">,</span> <span class="n">messageColors</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">msg</span> <span class="o">+</span> <span class="n">colorBreak</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">UIDisplayMessage</span><span class="p">(</span><span class="n">PlayerGroupSingle</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">c_messageAreaSubtitle</span><span class="p">,</span> <span class="n">messageColors</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">msg</span> <span class="o">+</span> <span class="n">colorBreak</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// Usually, you want all user-facing text to be just that - |text|.</span>
<span class="c1">// But in some cases, it is not useful, like for debug, system, and error messages - who cares.</span>
<span class="c1">// The reason for |text| is that it is localizable, so it can be translated into other languages.</span>
<span class="kt">void</span> <span class="nf">err</span><span class="p">(</span><span class="n">string</span> <span class="n">msg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="n">printMsg</span><span class="p">(</span><span class="n">StringToText</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span> <span class="n">p</span><span class="p">,</span> <span class="n">c_messageTypeError</span><span class="p">);</span> <span class="p">}</span>
<span class="kt">void</span> <span class="nf">dbg</span><span class="p">(</span><span class="n">string</span> <span class="n">msg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="n">printMsg</span><span class="p">(</span><span class="n">StringToText</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span> <span class="n">p</span><span class="p">,</span> <span class="n">c_messageTypeDebug</span><span class="p">);</span> <span class="p">}</span>
<span class="kt">void</span> <span class="nf">sys</span><span class="p">(</span><span class="n">string</span> <span class="n">msg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="n">printMsg</span><span class="p">(</span><span class="n">StringToText</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span> <span class="n">p</span><span class="p">,</span> <span class="n">c_messageTypeSystem</span><span class="p">);</span> <span class="p">}</span>

<span class="c1">// Looks up the given string in the given catalog and returns either</span>
<span class="c1">// a space-separated list of matches, or an exact match that can be used</span>
<span class="c1">// for example by TechTreeUpgradeAddLevel:</span>
<span class="c1">// string res = findCatalogItem(&quot;Booster&quot;, c_gameCatalogUpgrade);</span>
<span class="c1">// if ( res != null &amp;&amp; StringContains(res, &quot; &quot;, c_stringAnywhere, c_stringCase) == false ) {</span>
<span class="c1">//   - Valid, single result</span>
<span class="c1">// }</span>
<span class="n">string</span> <span class="nf">findCatalogItem</span><span class="p">(</span><span class="n">string</span> <span class="n">find</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cat</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">res</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">test</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">CatalogEntryCount</span><span class="p">(</span><span class="n">cat</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">CatalogEntryIsValid</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">find</span><span class="p">)</span> <span class="o">==</span> <span class="nb">true</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">find</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">// TODO</span>
    <span class="c1">// There is no reason to use a while loop here, you&#39;re better served with</span>
    <span class="c1">// for (i = 1; i &lt;= CatalogEntryCount(cat); i += 1) {</span>
    <span class="k">while</span> <span class="p">(</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
        <span class="n">test</span> <span class="o">=</span> <span class="n">CatalogEntryGet</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">CatalogEntryIsValid</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">test</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">StringEqual</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">find</span><span class="p">,</span> <span class="n">c_stringNoCase</span><span class="p">)</span> <span class="o">==</span> <span class="nb">true</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">test</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span> <span class="n">StringContains</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">find</span><span class="p">,</span> <span class="n">c_stringAnywhere</span><span class="p">,</span> <span class="n">c_stringNoCase</span><span class="p">)</span> <span class="o">==</span> <span class="nb">true</span> <span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span> <span class="n">res</span> <span class="o">==</span> <span class="n">null</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="n">res</span> <span class="o">=</span> <span class="n">test</span><span class="p">;</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span> <span class="n">StringContains</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">c_stringAnywhere</span><span class="p">,</span> <span class="n">c_stringCase</span><span class="p">)</span> <span class="o">==</span> <span class="nb">false</span> <span class="p">)</span> <span class="p">{</span>
                        <span class="n">res</span> <span class="o">=</span> <span class="n">res</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="n">test</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// PlayerGroupHasPlayer actually errors if you ask it about player 0 or 15.</span>
<span class="c1">// This is just pure stupidity on Blizzards part. They should fix it.</span>
<span class="kt">bool</span> <span class="nf">myPlayerGroupHasPlayer</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="n">playergroup</span> <span class="n">pg</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="mi">15</span> <span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">return</span> <span class="n">PlayerGroupHasPlayer</span><span class="p">(</span><span class="n">pg</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">initUtil</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">messageColors</span><span class="p">[</span><span class="n">c_messageTypeDebug</span><span class="p">]</span> <span class="o">=</span> <span class="n">StringToText</span><span class="p">(</span><span class="s">&quot;&lt;c val=</span><span class="se">\&quot;</span><span class="s">FF6600</span><span class="se">\&quot;</span><span class="s">&gt;&quot;</span><span class="p">);</span>
    <span class="n">messageColors</span><span class="p">[</span><span class="n">c_messageTypeSystem</span><span class="p">]</span> <span class="o">=</span> <span class="n">StringToText</span><span class="p">(</span><span class="s">&quot;&lt;c val=</span><span class="se">\&quot;</span><span class="s">FFFF00</span><span class="se">\&quot;</span><span class="s">&gt;&quot;</span><span class="p">);</span>
    <span class="n">messageColors</span><span class="p">[</span><span class="n">c_messageTypeError</span><span class="p">]</span> <span class="o">=</span> <span class="n">StringToText</span><span class="p">(</span><span class="s">&quot;&lt;c val=</span><span class="se">\&quot;</span><span class="s">FF0000</span><span class="se">\&quot;</span><span class="s">&gt;&quot;</span><span class="p">);</span>

    <span class="c1">// noopfunc(); - this would error, because the function is |static| in main.galaxy</span>
    <span class="c1">// anothernoop(); - this would work fine, because the function is declared before the |include|</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

</details></article></div></div></main><footer class="md-footer"><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Copyright belongs to the respective authors of each commit. All raw code snippets and art assets (unless owned by Blizzard) from all authors are forcefully relicensed under the UNLICENSE, read more at http://unlicense.org/. For more information on copyrights and licensing, read the README.md file in the git repository that contains the source code of this documentation.</div>powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div><div class="md-footer-social"><link rel="stylesheet" href="../../assets/fonts/font-awesome.css"> <a href="https://github.com/SC2Mapster" class="md-footer-social__link fa fa-github"></a> </div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script></body></html>